<ng-container >
    <div class="container-fluid" #popup__formulario>
        <div class="container_form" #formRegisterContainerToAccountListBlock>
            <!-- <i class="far fa-times" (click)="this.sendHiddenFormRegister.emit(false);this.show__popup = false;"></i> -->
            <div #formRegister class="container_form_controls">
                <div class="form_control pt-1">
                    <label>Monto</label>
                    <div>(Ingrese monto)</div>
                    <div class="st_block_amount d-flex align-items-center">
                        <span>S/</span>
                        <input type="text" placeholder="0.00" [(ngModel)]="expense.amountShow">
                    </div>
                </div>
                <div class="form_control pt-1">
                    <label>Descripci√≥n(optional)</label>
                    <textarea rows="2" type="text" [(ngModel)]="expense.description"></textarea>
                </div>
                <div class="form_control">
                    <div class="st_content_aditionals_items d-flex justify-content-between">
                        <div class="st_item" (click)="showListCategories()">
                            <img src="{{itemCategory.image}}" alt="" srcset="">
                            <label>Category</label>
                            <div>(Seleccione)</div>
                            <span>{{itemCategory.name}}</span>
                        </div>
                        <div class="st_item" (click)="showListAccording()">
                            <img src="{{itemAccording.image}}" alt="" srcset="">
                            <label>Acuerdo</label>
                            <div>(Seleccione)</div>
                            <span>{{itemAccording.name}}</span>
                        </div>
                        <div class="st_item" (click)="showListPaymentMethods()">
                            <img src="{{itemPaymentMethod.image}}" alt="" srcset="">
                            <label>Medio de Pago</label>
                            <div>(Seleccione)</div>
                            <span>{{itemPaymentMethod.name}}</span>
                        </div>
                    </div>
                </div>
                <div class="form_control pt-1">
                    <div class="st_content_attach">
                        <!-- <button>Subir voucher (opcional)</button> -->
                        <label (click)="showCalendar()" class="st_button_upload_voucher">
                                <span>Fecha: </span>
                                <span>02/12/2022  05:10:13</span>
                                <i class="fas fa-calendar"></i>
                        </label>
                        <ng-container *ngIf="itemAccording.id == 2 || itemAccording.id == 4">
                            <label class="st_button_upload_voucher st_bgcolor_whopay">
                                <span>Quien paga</span>
                                <span>(Seleccione)</span>
                                <i class="fas fa-envelope-open-dollar"></i>
                            </label>
                        </ng-container>
                        <ng-container *ngIf="accountListSelected.length>0">
                            <label *ngIf="itemAccount.id==0; else accountSelected;"
                                (click)="showListAccountSelect()" class="st_button_upload_voucher st_bgcolor_whopay">
                                <span>Account:</span>
                                <span>(Seleccione)</span>
                                <i class="fas fa-money-check-edit-alt"></i>
                            </label>
                        </ng-container>
                        
                        <label class="st_button_upload_voucher" for='myFileC'>
                            <input style="display: none;" accept=".png, .jpg, .jpeg" multiple 
                                (change)="uploadFoto($event)" 
                                type="file" id="myFileC"
                                class="st_img_upload"
                                >
                                <span>Subir voucher (opcional)</span>
                                <i class="fas fa-arrow-alt-square-up"></i>
                        </label>
                        <div class="container-vouchers" >
                            <span class="st_voucher" *ngFor="let index of imagenesUpload; let i = index" >
                                <img src="{{index}}" alt="" srcset="">
                                <i class="fas fa-times st_delete_voucher" (click)="removeVoucherFromList(i)"></i>
                            </span>
                        </div>
                    </div>
                </div>
               
            </div>
            <button (click)="registerOrUpdateExpense()">Registrar</button>



            <!-- Lista de items POP-UP-->
            <div class="st_lista_items_select" *ngIf="show__list__items">
                <!-- <i class="fas fa-times" (click)="hiddenPopUp()"></i> -->
                    <app-list-payment-method 
                        [receivedOrderSelectedItem]="flagShowListPaymentMethod"
                        (sendItemSelectedToFormExpense)="receivedItemSelectedaFromPopUp($event)" 
                        *ngIf="flagShowListPaymentMethod">
                    </app-list-payment-method>
                    <app-list-category       
                        [receivedOrderSelectedItem]="flagShowListCategories"
                        (sendItemSelectedToFormExpense)="receivedItemSelectedaFromPopUp($event)" 
                        *ngIf="flagShowListCategories">
                    </app-list-category>
                    <app-list-according      
                        [receivedOrderSelectedItem]="flagShowListAccording"
                        (sendItemSelectedToFormExpense)="receivedItemSelectedaFromPopUp($event)" 
                        *ngIf="flagShowListAccording">
                    </app-list-according>
                    <app-calendar *ngIf="flagShowCalendar"
                        [receivedComponentParent]="sendComponentParentToCalendar"
                        (sendResponseFromCalendarToParent)="receivedItemSelectedaFromPopUp($event)"
                    ></app-calendar>
                    <app-list-accounts-shared *ngIf="flagShowListAccountSelect"
                         [receiveComponentToBlockListAccount]="sendComponentToBlockListAccount"
                         [heightContainerChild]="heightFormRegisterExpense"
                         [flagShowComponentReceived]="flagShowListAccountSelect"
                         [listaAccountReceived]="accountListSelected"
                         (sendEmittAccountSelected)="receivedItemSelectedaFromPopUp($event)"
                    ></app-list-accounts-shared>
            </div>
        </div>
    
    </div>
</ng-container>


<ng-template #accountSelected>
    <div (click)="showListAccountSelect()" 
        class="st_form_destiny d-flex justify-content-between align-items-center"
        [ngStyle]="{'color':(itemAccount.balanceFlow == '0') ? 'red' : '#366351',
                    'border-color':(itemAccount.balanceFlow == '0') ? 'red' : '#366351'}">
        <span>ACC: {{itemAccount.accountName}}</span>
        <span>S/ {{itemAccount.balanceFlow | number: '1.2-2'}}</span>
    </div>
</ng-template>


